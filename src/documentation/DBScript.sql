-- MySQL Script generated by MySQL Workbench
-- Thu Oct 15 19:36:26 2020
-- Model: New Model    Version: 1.0
-- MySQL Workbench Forward Engineering

SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0;
SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0;
SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='ONLY_FULL_GROUP_BY,STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_ENGINE_SUBSTITUTION';

-- -----------------------------------------------------
-- Schema project
-- -----------------------------------------------------
CREATE SCHEMA IF NOT EXISTS `project` DEFAULT CHARACTER SET utf8 ;
USE `project` ;

-- -----------------------------------------------------
-- Table `project`.`ACTIVO`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `project`.`ACTIVO` ;

CREATE TABLE IF NOT EXISTS `project`.`ACTIVO` (
  `ID_ACTIVO` INT NOT NULL,
  `USUARIO` VARCHAR(25) NOT NULL,
  `NIT` INT NOT NULL,
  `ID_FACTURA` INT NOT NULL,
  `DESCRIPCION_ACTIVO` VARCHAR(255) NOT NULL,
  `ESTADO_ACTIVO` VARCHAR(255) NOT NULL,
  `NOMBRE_ACTIVO` VARCHAR(255) NOT NULL,
  PRIMARY KEY (`ID_ACTIVO`),
  INDEX `FK_ACTIVO_PROVEE2_PROVEEDO` (`NIT` ASC) VISIBLE,
  INDEX `FK_ACTIVO_REGISTRA3_USUARIO` (`USUARIO` ASC) VISIBLE,
  INDEX `FK_ACTIVO_VENDE_FACTURA` (`ID_FACTURA` ASC) VISIBLE,
  CONSTRAINT `FK_ACTIVO_PROVEE2_PROVEEDO`
    FOREIGN KEY (`NIT`)
    REFERENCES `project`.`PROVEEDOR` (`NIT`)
    ON DELETE restrict
    ON UPDATE restrict,
  CONSTRAINT `FK_ACTIVO_REGISTRA3_USUARIO`
    FOREIGN KEY (`USUARIO`)
    REFERENCES `project`.`USUARIO` (`USUARIO`)
    ON DELETE restrict
    ON UPDATE restrict,
  CONSTRAINT `FK_ACTIVO_VENDE_FACTURA`
    FOREIGN KEY (`ID_FACTURA`)
    REFERENCES `project`.`FACTURA` (`ID_FACTURA`)
    ON DELETE restrict
    ON UPDATE restrict);


-- -----------------------------------------------------
-- Table `project`.`FACTURA`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `project`.`FACTURA` ;

CREATE TABLE IF NOT EXISTS `project`.`FACTURA` (
  `ID_FACTURA` INT NOT NULL,
  `USUARIO` VARCHAR(25) NOT NULL,
  `LISTA_PRODUCTOS` VARCHAR(255) NOT NULL,
  `VALOR` INT NOT NULL,
  `FECHA` DATE NOT NULL,
  `TIPO_DE_FACTURA` VARCHAR(10) NOT NULL,
  PRIMARY KEY (`ID_FACTURA`),
  INDEX `FK_FACTURA_REGISTRA5_USUARIO` (`USUARIO` ASC) VISIBLE,
  CONSTRAINT `FK_FACTURA_REGISTRA5_USUARIO`
    FOREIGN KEY (`USUARIO`)
    REFERENCES `project`.`USUARIO` (`USUARIO`)
    ON DELETE restrict
    ON UPDATE restrict);


-- -----------------------------------------------------
-- Table `project`.`FACTURA_PROVEEDOR`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `project`.`FACTURA_PROVEEDOR` ;

CREATE TABLE IF NOT EXISTS `project`.`FACTURA_PROVEEDOR` (
  `ID_FACTURA` INT NOT NULL,
  `NIT` INT NOT NULL,
  PRIMARY KEY (`ID_FACTURA`, `NIT`),
  INDEX `FK_FACTURA__SE_REGIST_PROVEEDO` (`NIT` ASC) VISIBLE,
  CONSTRAINT `FK_FACTURA__SE_REGIST_FACTURA`
    FOREIGN KEY (`ID_FACTURA`)
    REFERENCES `project`.`FACTURA` (`ID_FACTURA`)
    ON DELETE restrict
    ON UPDATE restrict,
  CONSTRAINT `FK_FACTURA__SE_REGIST_PROVEEDO`
    FOREIGN KEY (`NIT`)
    REFERENCES `project`.`PROVEEDOR` (`NIT`)
    ON DELETE restrict
    ON UPDATE restrict);


-- -----------------------------------------------------
-- Table `project`.`PRODUCCION`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `project`.`PRODUCCION` ;

CREATE TABLE IF NOT EXISTS `project`.`PRODUCCION` (
  `ID_PRODUCCION` INT NOT NULL,
  `USUARIO` VARCHAR(25) NOT NULL,
  `PRODUCTOS_USADOS` VARCHAR(255) NOT NULL,
  `ESTADO_PRODUCCION` VARCHAR(255) NOT NULL,
  `FECHA_COMIENZO` DATE NULL DEFAULT NULL,
  `FECHA_FINALIZACION` DATE NULL DEFAULT NULL,
  `TIPO_DE_PRODUCCION` VARCHAR(255) NOT NULL,
  PRIMARY KEY (`ID_PRODUCCION`),
  INDEX `FK_PRODUCCI_REGISTRA4_USUARIO` (`USUARIO` ASC) VISIBLE,
  CONSTRAINT `FK_PRODUCCI_REGISTRA4_USUARIO`
    FOREIGN KEY (`USUARIO`)
    REFERENCES `project`.`USUARIO` (`USUARIO`)
    ON DELETE restrict
    ON UPDATE restrict);


-- -----------------------------------------------------
-- Table `project`.`PRODUCCION_PRODUCTO`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `project`.`PRODUCCION_PRODUCTO` ;

CREATE TABLE IF NOT EXISTS `project`.`PRODUCCION_PRODUCTO` (
  `ID_PRODUCCION` INT NOT NULL,
  `ID` INT NOT NULL,
  PRIMARY KEY (`ID_PRODUCCION`, `ID`),
  INDEX `FK_PRODUCCI_HACE_PART_PRODUCTO` (`ID` ASC) VISIBLE,
  CONSTRAINT `FK_PRODUCCI_HACE_PART_PRODUCCI`
    FOREIGN KEY (`ID_PRODUCCION`)
    REFERENCES `project`.`PRODUCCION` (`ID_PRODUCCION`)
    ON DELETE restrict
    ON UPDATE restrict,
  CONSTRAINT `FK_PRODUCCI_HACE_PART_PRODUCTO`
    FOREIGN KEY (`ID`)
    REFERENCES `project`.`PRODUCTO` (`ID`)
    ON DELETE restrict
    ON UPDATE restrict);


-- -----------------------------------------------------
-- Table `project`.`PRODUCTO`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `project`.`PRODUCTO` ;

CREATE TABLE IF NOT EXISTS `project`.`PRODUCTO` (
  `ID` INT NOT NULL,
  `USUARIO` VARCHAR(25) NOT NULL,
  `NIT` INT NOT NULL,
  `MARCA_PRODUCTO` VARCHAR(255) NOT NULL,
  `TIPO_DE_PRODUCTO` VARCHAR(255) NOT NULL,
  `CANTIDAD` INT NOT NULL,
  `METODO_ALMACENAMIENTO` VARCHAR(255) NOT NULL,
  `LUGAR_ALMACENAMIENTO` VARCHAR(255) NOT NULL,
  `FECHA_CADUCIDAD` DATE NULL DEFAULT NULL,
  `NOMBRE_PRODUCTO` VARCHAR(255) NOT NULL,
  `DESCRIPCION_PRODUCTO` VARCHAR(255) NOT NULL,
  PRIMARY KEY (`ID`),
  INDEX `FK_PRODUCTO_PROVEE_PROVEEDO` (`NIT` ASC) VISIBLE,
  INDEX `FK_PRODUCTO_REGISTRA1_USUARIO` (`USUARIO` ASC) VISIBLE,
  CONSTRAINT `FK_PRODUCTO_PROVEE_PROVEEDO`
    FOREIGN KEY (`NIT`)
    REFERENCES `project`.`PROVEEDOR` (`NIT`)
    ON DELETE restrict
    ON UPDATE restrict,
  CONSTRAINT `FK_PRODUCTO_REGISTRA1_USUARIO`
    FOREIGN KEY (`USUARIO`)
    REFERENCES `project`.`USUARIO` (`USUARIO`)
    ON DELETE restrict
    ON UPDATE restrict);


-- -----------------------------------------------------
-- Table `project`.`PRODUCTO_FACTURA`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `project`.`PRODUCTO_FACTURA` ;

CREATE TABLE IF NOT EXISTS `project`.`PRODUCTO_FACTURA` (
  `ID_FACTURA` INT NOT NULL,
  `ID` INT NOT NULL,
  PRIMARY KEY (`ID_FACTURA`, `ID`),
  INDEX `FK_PRODUCTO_REGISTRA__PRODUCTO` (`ID` ASC) VISIBLE,
  CONSTRAINT `FK_PRODUCTO_REGISTRA__FACTURA`
    FOREIGN KEY (`ID_FACTURA`)
    REFERENCES `project`.`FACTURA` (`ID_FACTURA`)
    ON DELETE restrict
    ON UPDATE restrict,
  CONSTRAINT `FK_PRODUCTO_REGISTRA__PRODUCTO`
    FOREIGN KEY (`ID`)
    REFERENCES `project`.`PRODUCTO` (`ID`)
    ON DELETE restrict
    ON UPDATE restrict);


-- -----------------------------------------------------
-- Table `project`.`PROVEEDOR`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `project`.`PROVEEDOR` ;

CREATE TABLE IF NOT EXISTS `project`.`PROVEEDOR` (
  `NIT` INT NOT NULL,
  `USUARIO` VARCHAR(25) NOT NULL,
  `NOMBRE_PROVEEDOR` VARCHAR(255) NOT NULL,
  `DIRECCION_TIENDA` VARCHAR(255) NOT NULL,
  `TELEFONO` INT NOT NULL,
  `EMAIL_PROVEEDOR` VARCHAR(255) NOT NULL,
  PRIMARY KEY (`NIT`),
  INDEX `FK_PROVEEDO_REGISTRA2_USUARIO` (`USUARIO` ASC) VISIBLE,
  CONSTRAINT `FK_PROVEEDO_REGISTRA2_USUARIO`
    FOREIGN KEY (`USUARIO`)
    REFERENCES `project`.`USUARIO` (`USUARIO`)
    ON DELETE restrict
    ON UPDATE restrict);


-- -----------------------------------------------------
-- Table `project`.`USUARIO`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `project`.`USUARIO` ;

CREATE TABLE IF NOT EXISTS `project`.`USUARIO` (
  `USUARIO` VARCHAR(25) NOT NULL,
  `CEDULA` INT NOT NULL,
  `RANGO` VARCHAR(255) NOT NULL,
  `CONTRASENA` VARCHAR(25) NOT NULL,
  `NUMERO_CEL` INT NULL DEFAULT NULL,
  `EMAIL_USUARIO` VARCHAR(255) NOT NULL,
  `DIRECCION_CASA` VARCHAR(255) NULL DEFAULT NULL,
  `NOMBRE_USUARIO` VARCHAR(255) NOT NULL,
  PRIMARY KEY (`USUARIO`));


SET SQL_MODE=@OLD_SQL_MODE;
SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS;
SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS;
